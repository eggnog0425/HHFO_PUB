<mahApps:MetroWindow x:Class="HHFO.Views.Shell"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:prism="http://www.codeplex.com/prism"
        prism:ViewModelLocator.AutoWireViewModel="True"
        xmlns:mahApps="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:interactivity="http://schemas.microsoft.com/xaml/behaviors"
        xmlns:reactiveInteractivity="clr-namespace:Reactive.Bindings.Interactivity;assembly=ReactiveProperty.WPF"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="13"
        TextOptions.TextFormattingMode="Ideal"
        TextOptions.TextRenderingMode="Auto"
        Background="{DynamicResource MaterialDesignPaper}"
        FontFamily="{DynamicResource MaterialDesignFont}"
        Title="{Binding Title}"
        Height="800"
        Width="1200">
    <interactivity:Interaction.Triggers>
        <interactivity:EventTrigger EventName="Loaded">
            <reactiveInteractivity:EventToReactiveCommand Command="{Binding OnLoaded, Mode=OneWay}" />
        </interactivity:EventTrigger>
    </interactivity:Interaction.Triggers>
    <mahApps:MetroWindow.Flyouts>
        <mahApps:FlyoutsControl>
            <mahApps:Flyout Name="Auth"
                            Position="Left"
                            Header="Twitter認証"
                            Width="800"
                            IsOpen="{Binding OpenFlyOut.Value}"
                            CloseButtonVisibility="Hidden"
                            FontSize="18"
                            >
                <StackPanel>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Row="0"
                                   Grid.Column="0"
                                   Grid.ColumnSpan="5"
                                   Margin="10"
                                   HorizontalAlignment="Left"
                                   Text="認証ボタンを押すとブラウザを起動します。内容を確認してTwitterの認証を行ってください。"/>
                        <Button Grid.Row="1"
                                Grid.Column="3"
                                Margin="10"
                                FontSize="18"
                                Content="認証"
                                Command="{Binding OpenBrowser}"/>
                        <TextBlock Grid.Row="2"
                                   Grid.Column="0"
                                   Grid.ColumnSpan="5"
                                   Margin="10,20,10,10"
                                   Text="認証後PINコードが表示されるので、下の入力欄にPINコードを入力してOKボタンを押してください。"
                                   />
                        <TextBox Grid.Row="3"
                                 Grid.Column="0"
                                 Grid.ColumnSpan="3"
                                 Margin="10"
                                 Name="Pin"
                                 Text="{Binding Pin.Value}"/>
                        <Button Grid.Row="3"
                                Grid.Column="3"
                                Width="Auto"
                                Margin="10"
                                FontSize="18"
                                Name="OK"
                                Content="OK"
                                Command="{Binding InitialAuth}"
                                />
                        <TextBlock Grid.Row="4"
                                   Grid.Column="0"
                                   Grid.ColumnSpan="3"
                                   Margin="10"
                                   Text="PINコードが間違っています。PINコードを再度入力してください。"
                                   Foreground="#f44336"
                                   Visibility="{Binding PinError.Value, FallbackValue=Collapsed}"
                                   />

                    </Grid>
                </StackPanel>
            </mahApps:Flyout>
        </mahApps:FlyoutsControl>
    </mahApps:MetroWindow.Flyouts>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="9*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="3*"/>
            <ColumnDefinition Width="7*"/>
        </Grid.ColumnDefinitions>

        <ContentControl Grid.Row="0" Grid.Column="0" Grid.RowSpan="2" prism:RegionManager.RegionName="MenuSpace"/>
        <ContentControl Grid.Row="0" Grid.Column="1" prism:RegionManager.RegionName="TabSpace"/>
        <ContentControl Grid.Row="1" Grid.Column="1" prism:RegionManager.RegionName="MainSpace"/>
        

    </Grid>
</mahApps:MetroWindow>      